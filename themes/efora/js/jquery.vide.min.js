!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(e.jQuery)}(this,function(d){"use strict";var l="vide",r={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"detect",resizing:!0,bgColor:"transparent",className:""},y="Not implemented";function s(e){var t,o,i,r,s,n,a,p={};for(a=0,n=(s=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(",")).length;a<n&&(-1===(o=s[a]).search(/^(http|https|ftp):\/\//)&&-1!==o.search(":"));a++)t=o.indexOf(":"),i=o.substring(0,t),(r=o.substring(t+1))||(r=void 0),"string"==typeof r&&(r="true"===r||"false"!==r&&r),"string"==typeof r&&(r=isNaN(r)?r:+r),p[i]=r;return null==i&&null==r?e:p}function i(e,t,o){if(this.jQueryelement=d(e),"string"==typeof t&&(t=s(t)),o?"string"==typeof o&&(o=s(o)):o={},"string"==typeof t)t=t.replace(/\.\w*$/,"");else if("object"==typeof t)for(var i in t)t.hasOwnProperty(i)&&(t[i]=t[i].replace(/\.\w*$/,""));this.settings=d.extend({},r,o),this.path=t;try{this.init()}catch(e){if(e.message!==y)throw e}}i.prototype.init=function(){var e,t,o,i=this,r=i.path,s=r,n="",a=i.jQueryelement,p=i.settings,c=function(e){var t,o,i,r=(e=""+e).split(/\s+/),s="50%",n="50%";for(i=0,t=r.length;i<t;i++)"left"===(o=r[i])?s="0%":"right"===o?s="100%":"top"===o?n="0%":"bottom"===o?n="100%":"center"===o?0===i?s="50%":n="50%":0===i?s=o:n=o;return{x:s,y:n}}(p.position),u=p.posterType;t=i.jQuerywrapper=d("<div>").addClass(p.className).css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-color":p.bgColor,"background-repeat":"no-repeat","background-position":c.x+" "+c.y}),"object"==typeof r&&(r.poster?s=r.poster:r.mp4?s=r.mp4:r.webm?s=r.webm:r.ogv&&(s=r.ogv)),"detect"===u?(o=function(e){t.css("background-image","url("+e+")")},d('<img src="'+s+'.jpg">').on("load",function(){o(this.src)})):"none"!==u&&t.css("background-image","url("+s+"."+u+")"),"static"===a.css("position")&&a.css("position","relative"),a.prepend(t),e=i.jQueryvideo="object"==typeof r?(r.mp4&&(n+='<source src="'+r.mp4+'.mp4" type="video/mp4">'),r.webm&&(n+='<source src="'+r.webm+'.webm" type="video/webm">'),r.ogv&&(n+='<source src="'+r.ogv+'.ogv" type="video/ogg">'),d("<video>"+n+"</video>")):d('<video><source src="'+r+'.mp4" type="video/mp4"><source src="'+r+'.webm" type="video/webm"><source src="'+r+'.ogv" type="video/ogg"></video>');try{e.prop({autoplay:p.autoplay,loop:p.loop,volume:p.volume,muted:p.muted,defaultMuted:p.muted,playbackRate:p.playbackRate,defaultPlaybackRate:p.playbackRate})}catch(e){throw new Error(y)}e.css({margin:"auto",position:"absolute","z-index":-1,top:c.y,left:c.x,"-webkit-transform":"translate(-"+c.x+", -"+c.y+")","-ms-transform":"translate(-"+c.x+", -"+c.y+")","-moz-transform":"translate(-"+c.x+", -"+c.y+")",transform:"translate(-"+c.x+", -"+c.y+")",visibility:"hidden",opacity:0}).one("canplaythrough."+l,function(){i.resize()}).one("playing."+l,function(){e.css({visibility:"visible",opacity:1}),t.css("background-image","none")}),a.on("resize."+l,function(){p.resizing&&i.resize()}),t.append(e)},i.prototype.getVideoObject=function(){return this.jQueryvideo[0]},i.prototype.resize=function(){if(this.jQueryvideo){var e=this.jQuerywrapper,t=this.jQueryvideo,o=t[0],i=o.videoHeight,r=o.videoWidth,s=e.height(),n=e.width();s/i<n/r?t.css({width:n+2,height:"auto"}):t.css({width:"auto",height:s+2})}},i.prototype.destroy=function(){delete d[l].lookup[this.index],this.jQueryvideo&&this.jQueryvideo.off(l),this.jQueryelement.off(l).removeData(l),this.jQuerywrapper.remove()},d[l]={lookup:[]},d.fn[l]=function(e,t){var o;return this.each(function(){(o=d.data(this,l))&&o.destroy(),(o=new i(this,e,t)).index=d[l].lookup.push(o)-1,d.data(this,l,o)}),this},d(document).ready(function(){var e=d(window);e.on("resize."+l,function(){for(var e,t=d[l].lookup.length,o=0;o<t;o++)(e=d[l].lookup[o])&&e.settings.resizing&&e.resize()}),e.on("unload."+l,function(){return!1}),d(document).find("[data-vide-bg]").each(function(e,t){var o=d(t),i=o.data(l+"-options"),r=o.data(l+"-bg");-1!=r.indexOf("http")&&o[l](r,i)})})});